<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>future.p2p: Getting Started • future.p2p</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="future.p2p: Getting Started">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">future.p2p</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0-9010</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/future.p2p-10-getting-started.html">future.p2p: Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/future.p2p-20-personal-cluster.html">future.p2p: A Personal P2P Cluster</a></li>
    <li><a class="dropdown-item" href="../articles/future.p2p-30-shared-cluster.html">future.p2p: A Shared P2P Cluster among Friends</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.futureverse.org/"><span class="fa fas fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages">
<li><a class="external-link dropdown-item" href="https://doFuture.futureverse.org">doFuture (map-reduce)</a></li>
    <li><a class="external-link dropdown-item" href="https://furrr.futureverse.org">furrr (map-reduce)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.futureverse.org">future</a></li>
    <li><a class="external-link dropdown-item" href="https://future.apply.futureverse.org">future.apply (map-reduce)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.batchtools.futureverse.org">future.batchtools (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.callr.futureverse.org">future.callr (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.mirai.futureverse.org">future.mirai (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.tests.futureverse.org">future.tests</a></li>
    <li><a class="external-link dropdown-item" href="https://globals.futureverse.org">globals</a></li>
    <li><a class="external-link dropdown-item" href="https://listenv.futureverse.org">listenv</a></li>
    <li><a class="external-link dropdown-item" href="https://parallelly.futureverse.org">parallelly</a></li>
    <li><a class="external-link dropdown-item" href="https://progressr.futureverse.org">progressr</a></li>
    <li><a class="external-link dropdown-item" href="https://BiocParallel.FutureParam.futureverse.org">BiocParallel.FutureParam (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.tools.futureverse.org">future.tools (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.mapreduce.futureverse.org">future.mapreduce (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://marshal.futureverse.org">marshal (experimental)</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://cloud.r-project.org/package=future.p2p"><span class="fa fab fa-r-project"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/futureverse/future.p2p/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>future.p2p: Getting Started</h1>
                        <h4 data-toc-skip class="author">Henrik
Bengtsson</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/futureverse/future.p2p/blob/HEAD/vignettes/future.p2p-10-getting-started.md" class="external-link"><code>vignettes/future.p2p-10-getting-started.md</code></a></small>
      <div class="d-none name"><code>future.p2p-10-getting-started.Rmd</code></div>
    </div>

    
    
<!--
%\VignetteIndexEntry{future.p2p: Getting Started}
%\VignetteAuthor{Henrik Bengtsson}
%\VignetteKeyword{R}
%\VignetteKeyword{package}
%\VignetteKeyword{vignette}
%\VignetteKeyword{Rprofile}
%\VignetteKeyword{Renviron}
%\VignetteEngine{future.p2p::selfonly}
-->
<p>The <strong><a href="https://github.com/futureverse/future.p2p" class="external-link">future.p2p</a></strong>
package implements a future backend for parallel and distributed
processing via a peer-to-peer (P2P) compute cluster. A P2P cluster can
be either <em>personal</em> or <em>shared</em> with others. A personal
cluster is only accessible by the user who runs it.</p>
<p>This document shows you how the get started. I recommend starting out
with a <em>personal</em> P2P cluster just to get a feel for what is
involved. After that, setting one up among friends, is almost as easy.
Regardless, all users need to set up a few things before they can join a
P2P cluster.</p>
<p>A P2P cluster consists of:</p>
<ol style="list-style-type: decimal">
<li><p>a task message board, and</p></li>
<li><p>a peer-to-peer file-transfer backend.</p></li>
</ol>
<p>The task message board is a lightweight common “forum” used for
clients to post futures (“tasks”) that should be processed and for
workers to offer their help to process the futures.</p>
<p>The P2P file-transfer backend is how clients and workers transfer
futures and results between each others.</p>
<p>Users who wish to join a P2P cluster, needs to create a <a href="https://pico.sh/" class="external-link">pico.sh</a> account, which given them access to
the task message board. In contrast, P2P file transfers that take place
between clients and workers, are anonymous and requires no accounts.</p>
<div class="section level2">
<h2 id="security">⚠️ Security ⚠️<a class="anchor" aria-label="anchor" href="#security"></a>
</h2>
<p><em>Important warning: Please note that there is nothing preventing a
user in your P2P cluster from sending malicious R code to your P2P
worker!</em></p>
<p>For example, a P2P user may submit a future that erases all files on
the P2P worker or a future that attempts to read non-encrypted secret
files of yours, e.g.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://future.futureverse.org/reference/future.html" class="external-link">future</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"erase-all-user-files"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://future.futureverse.org/reference/future.html" class="external-link">future</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="st">"~/.ssh/id_ed25519"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Because of this, it is important that you only join shared P2P
clusters that you trust, i.e. where you trust all the P2P user and the
user who hosts it such that they do not invite non-trusted or unknown
users.</p>
<p>There are mechanisms for launching P2P workers in <em>sandboxed</em>
environments. For instance, by running P2P workers in a sandboxed
virtual machine (VM), in a sandboxed Linux container (e.g. <a href="https://apptainer.org/" class="external-link">Apptainer</a>, <a href="https://www.docker.com/" class="external-link">Docker</a> and <a href="https://podman.io/" class="external-link">Podman</a>), or via dedicated sandboxing tools
(e.g. <a href="https://github.com/containers/bubblewrap" class="external-link">Bubblewrap</a>,
<a href="https://github.com/netblue30/firejail" class="external-link">Firejail</a>, and macOS
<code>sandbox-exec</code>), you can mitigate some of the risk of
malicious code accessing the host machine where your personal data
lives.</p>
</div>
<div class="section level2">
<h2 id="setup-instructions">Setup instructions<a class="anchor" aria-label="anchor" href="#setup-instructions"></a>
</h2>
<div class="section level3">
<h3 id="generating-an-ssh-public-private-key-pair">1. Generating an SSH public-private key pair<a class="anchor" aria-label="anchor" href="#generating-an-ssh-public-private-key-pair"></a>
</h3>
<p>In order to have a <a href="https://pico.sh/" class="external-link">pico.sh</a> account,
you need to connect to their services using <em>SSH keys</em> - they do
not accept password logins, which also would not work for
<strong>future.p2p</strong>.</p>
<p>If you don’t know about SSH keys, the gist is that they allow you to
SSH without having to enter your password each time. Instead, your
computer authenticates with the server using secure public-private keys.
It’s a very convenient way of working with SSH. You can read more it in
the Wikibooks article <a href="https://en.wikibooks.org/wiki/OpenSSH%2FCookbook%2FPublic_Key_Authentication" class="external-link">‘OpenSSH/Cookbook/Public
Key Authentication’</a>, which also provides detailed instructions. The
gist for creating a SSH key pair is:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> ssh-keygen</span></code></pre></div>
<p>and then follow the instructions. Although you can leave the
passphrase empty, I recommend to set one and let the operating system’s
<em>SSH agent</em> manage authentication. This means that you will only
have to authenticate once when you log in into your computer, instead of
at each SSH connection.</p>
</div>
<div class="section level3">
<h3 id="create-p2p-user-account">2. Create P2P user account<a class="anchor" aria-label="anchor" href="#create-p2p-user-account"></a>
</h3>
<p>With SSH key pairs configured, you can now create a <a href="https://pico.sh/" class="external-link">pico.sh</a> account by calling:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> ssh pico.sh</span></code></pre></div>
<p>You will be asked to <em>choose a username</em> . This will be your
P2P cluster username. You cannot change it later, so pick one with some
care. Your account will be created when you hit <kbd>ENTER</kbd> -
that’s it. This adds your public SSH key to the pico.sh servers, which
is then used to identify you in all future interactions.</p>
<p>If you wish to access your pico.sh account from multiple machines,
you can add additional public SSH keys via <code>ssh pico.sh</code>.</p>
<p>Finally, verify that you have SSH access also to
<code>pipe.pico.sh</code> (sic!);</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> ssh pipe.pico.sh</span></code></pre></div>
<p>Make sure to <em>accept the SSH fingerprint</em>, otherwise you will
not be able to connect to the P2P cluster from R.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9007.</p>
</div>

    </footer>
</div>





  </body>
</html>
